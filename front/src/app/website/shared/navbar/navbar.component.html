<nav class="navbar navbar-expand-lg fixed-top navbar-light navbar-transparent" id="navbar">
  <a class="navbar-brand" [routerLink]="['/']"><img class="logo" src="./assets/img/logo.svg" alt=""></a>
  <button aria-controls="navigation-index" aria-label="Toggle navigation" class="navbar-toggler navbar-toggler"
    [attr.aria-expanded]="!isCollapsed" (click)="isCollapsed = !isCollapsed" id="navigation" type="button">
    <span class="navbar-toggler-bar bar1"> </span>
    <span class="navbar-toggler-bar bar2"> </span>
    <span class="navbar-toggler-bar bar3"> </span>
  </button>

  <div class="navbar-collapse justify-content-end" [ngbCollapse]="isCollapsed" id="navigation">
    <div class="navbar-collapse-header">
      <div class="row">
        <div class="col-6 collapse-brand"><a class="navbar-brand " (click)="isCollapsed = !isCollapsed"
            [routerLink]="['/']">Rubnet</a></div>
        <div class="col-6 collapse-close text-right">
          <button aria-controls="navigation-index" aria-label="Toggle navigation" class="navbar-toggler"
            [attr.aria-expanded]="!isCollapsed" (click)="isCollapsed = !isCollapsed" id="navigation" type="button">
            <i class="tim-icons icon-simple-remove"> </i>
          </button>
        </div>
      </div>
    </div>
    <ul class="navbar-nav ">
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/']" [routerLinkActiveOptions]="{exact: true}"
          routerLinkActive="active"> {{ 'WEBSITE.NAVBAR.HOME' | translate }}</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/search']" routerLinkActive="active">{{ 'WEBSITE.NAVBAR.FIND' | translate }}<mat-icon>search</mat-icon></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="['/register']" routerLinkActive="active">{{ 'WEBSITE.NAVBAR.REGISTER' | translate }}</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" (click)="setLanguage('he')" routerLinkActive="active">Hebrew</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" (click)="setLanguage('en')"  routerLinkActive="active">English</a>
      </li>
    </ul>
    <div class="navbar-nav ml-auto" *ngIf="!user;else connected">
      <button class="btn btn-outline-success my-2 my-sm-0 legal-login" [routerLink]="['/login']" routerLinkActive="active"
        type="submit">{{ 'WEBSITE.NAVBAR.LOGIN' | translate }}</button>
      <button class="btn btn-outline-success my-2 my-sm-0 legal-register" [routerLink]="['/register']" routerLinkActive="active"
        type="submit">{{ 'WEBSITE.NAVBAR.REGISTER' | translate }}</button>
    </div>
    <ng-template #connected>


      <div class="navbar-nav ml-auto">
        <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="menu">
          {{user.firstname}} {{user.lastname}}
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="logout()">
            <mat-icon>dialpad</mat-icon>
            <span>Logout</span>
          </button>

        </mat-menu>
      </div>
    </ng-template>

  </div>
</nav>
